<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mummy chura lunga</title>
  <style>
    :root{
      --card-bg:rgba(255,255,255,0.92);
      --muted:#64748b;
      --accent:#06b6d4;
      --text:#04202a;
    }
    *{box-sizing:border-box}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:32px;
      background:
        linear-gradient(180deg, rgba(7,10,25,0.18), rgba(7,10,25,0.18)),
        url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=2100&q=80') no-repeat center/cover fixed;
      -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
      color:var(--text); transition: background 350ms ease;
    }

    /* final-bg applied to body when showing final screens */
    .final-bg {
      background:
        linear-gradient(180deg, rgba(7,10,25,0.22), rgba(7,10,25,0.22)),
        url('igo1.png') no-repeat center/cover fixed !important;
    }

    .card{width:100%;max-width:720px;background:var(--card-bg);backdrop-filter:blur(6px);border-radius:14px;padding:22px;box-shadow:0 12px 40px rgba(2,6,23,0.18)}
    h1{margin:0 0 6px;font-size:1.25rem}
    p{margin:0 0 14px;color:var(--muted)}
    .row{display:flex;gap:12px}
    button{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:transparent;border:1px solid rgba(2,6,23,0.06);color:#062023}
    input, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);margin-top:8px}
    .hidden{display:none}
    textarea{width:100%;height:120px;padding:10px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);margin-top:10px;white-space:pre-wrap;resize:vertical}
    .note{font-size:0.95rem;color:var(--muted);margin-top:10px}
    footer.small{font-size:0.85rem;color:var(--muted);margin-top:10px;text-align:center}
    a.cta {
      color:var(--accent);
      font-weight:700;
      font-size:1rem;
      text-decoration:none;
      display:inline-block;
      padding:8px 12px;
      border-radius:10px;
      background:rgba(6,182,212,0.08);
    }
    .center{text-align:center}
    .muted-small{font-size:0.85rem;color:#94a3b8;margin-top:8px}
    .card.fade-in { animation: fadeIn .28s ease both; }
    @keyframes fadeIn { from { transform: translateY(6px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }

    /* anderscreen: full-screen sad/lighted background */
    .ander-screen {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      text-align: center;
      color: white;
      padding: 24px;
      visibility: hidden;
      opacity: 0;
      transition: opacity .25s ease, visibility .25s ease;
    }
    .ander-screen.show {
      visibility: visible;
      opacity: 1;
    }
    .ander-screen .overlay {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      filter: saturate(.6) brightness(.55);
      z-index: 1;
    }
    .ander-screen .panel {
      position: relative;
      z-index: 2;
      max-width: 820px;
      width: 100%;
      margin: 0 12px;
      background: rgba(0,0,0,0.35);
      border-radius: 12px;
      padding: 28px;
      box-shadow: 0 20px 60px rgba(2,6,23,0.6);
    }
    .ander-screen h2 {
      margin: 0 0 10px;
      font-size: 2rem;
      letter-spacing: 0.6px;
    }
    .ander-screen p.big {
      margin: 0 0 18px;
      font-size: 1.15rem;
      color: rgba(255,255,255,0.95);
    }
    .ander-screen .actions { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:12px; }
    .ander-screen .btn-light { background: rgba(255,255,255,0.12); color: white; border: 1px solid rgba(255,255,255,0.12); padding:10px 14px; border-radius:8px; cursor:pointer; }
    @media (max-width:520px){
      .ander-screen .panel { padding:18px }
      .ander-screen h2 { font-size:1.4rem }
    }
  </style>
</head>
<body>

  <main class="card fade-in" id="viewChoose">
    <h1>Quick check</h1>
    <p class="note">laadle sex choose kar tera!, you know na?</p>

    <div class="row">
      <button id="girlBtn" class="btn-primary" style="flex:1">Girl</button>
      <button id="boyBtn" class="btn-ghost" style="flex:1">Boy</button>
    </div>

    <footer class="small">bonus joke: ek baar ek raja hota hai wo ek faqeer ko bolta hai, ae gareeebğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜‚ â€” ye joke kitna funny hai?</footer>
  </main>

  <!-- name -->
  <section class="card hidden" id="viewName">
    <h1>Your name?</h1>
    <input id="inputName" name="name" placeholder="Type your name" autocomplete="name" />
    <div class="row" style="margin-top:12px">
      <button id="nameNext" class="btn-primary">Next</button>
      <button id="nameBack" class="btn-ghost">Back</button>
    </div>
  </section>

  <!-- id -->
  <section class="card hidden" id="viewID">
    <h1>Social ID</h1>
    <p class="note">Insta or Snap (without @)</p>
    <input id="inputID" name="id" type="text" autocomplete="off" placeholder="your_insta_or_snap" />
    <div class="row" style="margin-top:12px">
      <button id="submitAll" class="btn-primary" disabled>Submit</button>
      <button id="idBack" class="btn-ghost">Back</button>
    </div>
    <div class="muted-small">billo bagga billiyan da ki karegi?</div>
  </section>

  <!-- Girl final -->
  <section class="card hidden" id="goodbyePage">
    <h1>Goodbye sweetie ğŸ’•</h1>
    <p class="note">Your data has been submitted.</p>

    <div class="final-extra">
      <div class="final-actions">
        <button class="btn-ghost" id="anderBtnGirl">à¤…à¤‚à¤¦à¤° à¤•à¥€ à¤¬à¤¾à¤¤ ğŸ¥€ğŸ¤§</button>
      </div>
    </div>

    <p class="note center" style="margin-top:16px;">
      <a class="cta" href="https://wa.me/919694987181" target="_blank" rel="noopener noreferrer">ğŸ¦‡ Contact Batman</a>
    </p>
    <div style="margin-top:12px" class="center">
      <button id="restartFromGoodbye" class="btn-ghost">Back to start</button>
    </div>
  </section>

  <!-- Boy final -->
  <section class="card hidden" id="boyDone">
    <h1>You're king ğŸ‘‘</h1>
    <p class="note">nice! never fake your gender for a bullshit site â€” you're hero of gautham</p>

    <div class="final-extra">
      <div class="final-actions">
        <button class="btn-ghost" id="anderBtnBoy">à¤…à¤‚à¤¦à¤° à¤•à¥€ à¤¬à¤¾à¤¤ ğŸ¥€ğŸ¤§</button>
      </div>
    </div>

    <p class="note center" style="margin-top:16px;">
      <a class="cta" href="https://wa.me/919694987181" target="_blank" rel="noopener noreferrer">ğŸ¦‡ Contact Batman</a>
    </p>
    <div style="margin-top:12px" class="center">
      <button id="restartFromBoy" class="btn-ghost">Back to start</button>
    </div>
  </section>

  <!-- ANDER (sad) FULLSCREEN SCREEN -->
  <div id="anderPage" class="ander-screen" role="dialog" aria-hidden="true">
    <!-- overlay image â€” replace the URL/path if you want a different image -->
    <div class="overlay" id="anderOverlay" style="background-image: url('/mnt/data/0e19889e-f282-4cb1-97ef-e4f51c2b0667.png');"></div>

    <div class="panel" role="document">
      <h2>no more money</h2>
      <p class="big">paise khatam ho gaye laadle, backend form service ke paise nahi bache, tera insta. acc. ka data ye duniya mere tak ni pahuchne degi
      par tu batman ko bhejde (kisi ko batana mat main hi batman hu)ğŸ™‚â€â†”ï¸
      gareebi ka dhong karna padta hai nahi to log apna paisa wapas mangne lagte haiğŸ¤§
      wo to batmobile banane me kharch ho gya, lol, tera paisa bhi tha kya?ğŸ™‚</p>

      <div class="actions">
        <!-- Contact Batman (same behavior as other Contact Batman links) -->
        <a class="btn-light" id="anderContact" href="https://wa.me/919694987181" target="_blank" rel="noopener noreferrer">ğŸ¦‡ Contact Batman</a>

        <!-- Back to start (same behavior as other back buttons) -->
        <button class="btn-light" id="anderBack">Back to start</button>
      </div>
    </div>
  </div>

  <script>
    // ========== FORM ENDPOINT (YOUR GETFORM LINK) ==========
    const GETFORM_ENDPOINT = "https://getform.io/f/apjzwyda";
    // =====================================================

    const viewChoose = document.getElementById("viewChoose");
    const viewName = document.getElementById("viewName");
    const viewID = document.getElementById("viewID");
    const goodbyePage = document.getElementById("goodbyePage");
    const boyDone = document.getElementById("boyDone");
    const anderPage = document.getElementById("anderPage");

    const girlBtn = document.getElementById("girlBtn");
    const boyBtn = document.getElementById("boyBtn");
    const nameNext = document.getElementById("nameNext");
    const nameBack = document.getElementById("nameBack");
    const idBack = document.getElementById("idBack");
    const submitAll = document.getElementById("submitAll");

    const restartFromGoodbye = document.getElementById("restartFromGoodbye");
    const restartFromBoy = document.getElementById("restartFromBoy");

    const inputName = document.getElementById("inputName");
    const inputID = document.getElementById("inputID");

    // new ander buttons
    const anderBtnGirl = document.getElementById("anderBtnGirl");
    const anderBtnBoy = document.getElementById("anderBtnBoy");
    const anderBack = document.getElementById("anderBack");
    const anderContact = document.getElementById("anderContact");

    let currentGender = null;

    function show(el){
      el.classList.remove("hidden");
      el.classList.add("fade-in");
      setTimeout(()=> el.classList.remove("fade-in"), 400);
    }
    function hide(el){ el.classList.add("hidden"); }
    function hideAll(){
      hide(viewChoose); hide(viewName); hide(viewID); hide(goodbyePage); hide(boyDone);
    }

    function setFinalBackground(){
      document.body.classList.add("final-bg");
    }

    function resetBackground(){
      document.body.classList.remove("final-bg");
    }

    // Clicking gender buttons
    girlBtn.addEventListener("click", ()=>{
      currentGender = "Girl";
      resetBackground();
      hideAll(); show(viewName);
    });

    boyBtn.addEventListener("click", ()=>{
      currentGender = "Boy";
      resetBackground();
      hideAll(); show(viewName);
    });

    // navigation back
    nameBack.addEventListener("click", ()=>{
      hideAll();
      resetBackground();
      show(viewChoose);
    });

    idBack.addEventListener("click", ()=>{
      hideAll();
      resetBackground();
      show(viewName);
    });

    // next from name
    nameNext.addEventListener("click", ()=>{
      sessionStorage.setItem("qc_name", inputName.value.trim());
      hideAll(); show(viewID);
      // re-evaluate submit button (in case user filled name)
      updateSubmitState();
    });

    // enable submit only when at least name or id present
    function updateSubmitState(){
      const name = (sessionStorage.getItem("qc_name") || "").trim();
      const idVal = (inputID.value || "").trim();
      submitAll.disabled = !(name.length > 0 || idVal.length > 0);
    }

    // watch id input
    inputID.addEventListener('input', updateSubmitState);

    // submit
    submitAll.addEventListener("click", async ()=>{
      const name = sessionStorage.getItem("qc_name") || inputName.value.trim() || "";
      const id = inputID.value.trim() || "";
      const entryTime = new Date().toISOString();
      const entry = { t: entryTime, gender: currentGender, name, id };

      if(!name && !id){
        alert('Please enter at least a name or social ID.');
        return;
      }

      try {
        const fd = new FormData();
        fd.append('t', entry.t);
        fd.append('gender', entry.gender || '');
        fd.append('name', entry.name || '');
        fd.append('id', entry.id || '');

        // DEBUG: log outgoing payload so you can inspect in console
        console.groupCollapsed('Outgoing FormData');
        for (const pair of fd.entries()) console.log(pair[0] + ':', pair[1]);
        console.groupEnd();

        const res = await fetch(GETFORM_ENDPOINT, {
          method: "POST",
          body: fd
        });

        if (!res.ok) {
          console.warn("Getform returned non-ok status:", res.status);
        }
      } catch (err){
        console.warn("Failed to send", err);
      }

      hideAll();
      setFinalBackground();

      if(currentGender === "Girl") {
        show(goodbyePage);
      } else {
        show(boyDone);
      }
    });

    // restart buttons on final screens
    restartFromGoodbye.addEventListener("click", ()=>{
      hideAll();
      resetBackground();
      show(viewChoose);
    });

    restartFromBoy.addEventListener("click", ()=>{
      hideAll();
      resetBackground();
      show(viewChoose);
    });

    // ANDER: show sad screen when clicked from finals
    function openAnder(){
      // hide other final screens
      hide(goodbyePage); hide(boyDone);
      // show the ander full-screen panel
      anderPage.classList.add('show');
      anderPage.setAttribute('aria-hidden','false');
    }

    function closeAnder(){
      anderPage.classList.remove('show');
      anderPage.setAttribute('aria-hidden','true');
      // return to start (same as back to start)
      hideAll();
      resetBackground();
      show(viewChoose);
    }

    anderBtnGirl.addEventListener('click', openAnder);
    anderBtnBoy.addEventListener('click', openAnder);

    anderBack.addEventListener('click', closeAnder);

    // If user clicks Contact Batman here, it opens same WA link (anchor handles it)
    // but also close ander screen for UX (optional)
    anderContact.addEventListener('click', ()=>{
      // close the ander screen so user remains in clean state
      anderPage.classList.remove('show');
      anderPage.setAttribute('aria-hidden','true');
      // UX: go back to previous final (we'll return to choose screen to be safe)
      hideAll();
      resetBackground();
      show(viewChoose);
    });

    // prefill name if available
    document.addEventListener("DOMContentLoaded", ()=>{
      const prev = sessionStorage.getItem("qc_name");
      if(prev) inputName.value = prev;
      // make sure background reset on load
      resetBackground();
      updateSubmitState();
    });

    // debug helper
    window._debugFormState = () => ({
      name: sessionStorage.getItem('qc_name'),
      id: inputID.value,
      gender: currentGender
    });
  </script>
</body>
</html>

